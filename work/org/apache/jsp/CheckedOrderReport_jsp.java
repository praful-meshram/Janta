/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.42
 * Generated at: 2014-02-12 06:30:57 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import beans.jqxgridFormat;
import com.google.gson.Gson;
import beans.JsonOutputBean;
import beans.ChekedOrderReportOutputBean;
import java.util.ArrayList;
import java.sql.ResultSet;
import report.ManageReports;

public final class CheckedOrderReport_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=ISO-8859-1");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");

 	if(request.getParameter("submit")!=null){
 		
      out.write("\n");
      out.write(" \t\t");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "header.jsp", out, false);
      out.write(" \n");
      out.write(" \t\t<!-- files for JqxWidget grid  -->\n");
      out.write("    <link rel=\"stylesheet\" href=\"js/jqwidgets/styles/jqx.base.css\" type=\"text/css\" />\n");
      out.write("    <link rel=\"stylesheet\" href=\"js/jqwidgets/styles/jqx.darkblue.css\" type=\"text/css\" />\n");
      out.write("\t<link rel=\"stylesheet\" href=\"js/jqwidgets/styles/jqx.ui-redmond.css\" type=\"text/css\" />\n");
      out.write("\t\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/gettheme.js\"></script>\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/jquery-1.10.2.min.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxcore.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxdata.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxbuttons.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxscrollbar.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxlistbox.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxcalendar.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxdatetimeinput.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.filter.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.selection.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.sort.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.pager.js\"></script>\n");
      out.write("     <script type=\"text/javascript\" src=\"js/jqwidgets/jqxmenu.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxlistbox.js\"></script>\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxdropdownlist.js\"></script>\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/jqwidgets/jqxdata.export.js\"></script> \n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.export.js\"></script> \t\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.aggregates.js\"></script> \t\n");
      out.write("    <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.grouping.js\"></script>\n");
      out.write(" \t <script type=\"text/javascript\" src=\"js/jqwidgets/jqxgrid.columnsresize.js\"></script> \n");
      out.write(" \t \t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/singleItemStock.css\" />\t\n");
      out.write(" \t\t\t<table style=\"width: 100%;height: auto;border: 10px;\">\n");
      out.write("\t\t<tr style=\"cursor: pointer;\">\n");
      out.write("\t\t\t<td style=\"width: 97%;\"><img alt=\"All Reports\" src=\"images/Background/report.png\" onclick=\"window.location.assign('Reports.jsp');\" style=\"float:right;\"></td>\n");
      out.write("\t\t\t<td><img alt=\"Home\" src=\"images/Background/House-icon.png\" onclick=\"window.location.assign('HomeForm.jsp');\" style=\"float:right;\"></td>\n");
      out.write("\t\t\t<td><img alt=\"Save To Excel\" src=\"images/Background/Excel-icon (2).png\"  id=\"saveToExcel\" style=\"float:right;\"/></td>\n");
      out.write("\t\t</tr>\n");
      out.write("\t\t<tr></tr>\n");
      out.write("\t</table>\n");
      out.write(" \t\t<center><h3>Delayed Orders</h3></center>\n");
      out.write(" \t\t<div id=\"chekedOrder\" style=\"display: none;\">\n");
      out.write(" \t\t");

 		
 	}
 
      out.write("       \n");
      out.write("\n");
      out.write("\n");
	if(request.getParameter("call").equals("cheked")){
	
	 
	
	ManageReports  manageReports = new ManageReports("jdbc/re");
	ResultSet resultSet = manageReports.getCheckedReportData();	
	ArrayList<ChekedOrderReportOutputBean> listOutputBeans = new ArrayList();
	//int i=0;
	while(resultSet.next()){
			
		ChekedOrderReportOutputBean outputBean = new ChekedOrderReportOutputBean();
		//outputBean.setOrder_num("<a href=\"javascript:passVar(\'"+resultSet.getString("order_num")+"\');\">"+resultSet.getString("order_num")+" </a>");
		outputBean.setOrder_num(resultSet.getInt("order_num"));
		outputBean.setOrder_num1(resultSet.getInt("order_num"));
		outputBean.setCustcode(resultSet.getString("custname"));
		outputBean.setOrder_date(resultSet.getString("order_date"));
		outputBean.setTotal_items(resultSet.getInt("total_items"));
		outputBean.setTotal_value(resultSet.getFloat("total_value"));
		outputBean.setTotal_value_mrp(resultSet.getFloat("total_value_mrp"));
		outputBean.setTotal_value_discount(resultSet.getFloat("total_value_discount"));
		outputBean.setLastmodifieddate(resultSet.getString("lastmodifieddate"));
		outputBean.setStatus_code(resultSet.getString("status_code"));
		
		listOutputBeans.add(outputBean);
		
	}
	
	manageReports.closeAll();
	JsonOutputBean jsonOutputBean = new JsonOutputBean();
	jsonOutputBean.setOutputData(listOutputBeans);
	
	jsonOutputBean.getFormat().add(new jqxgridFormat("Order No.","order_num"));
	jqxgridFormat format = new jqxgridFormat("Order No.","order_num1");
	format.setHidden(true);
	jsonOutputBean.getFormat().add(format);
	jsonOutputBean.getFormat().add(new jqxgridFormat("Customer Name","custcode"));
	format = new jqxgridFormat("Order Date","order_date");
	jsonOutputBean.getFormat().add(format);
	jsonOutputBean.getFormat().add(new jqxgridFormat("Total Items","total_items"));
	jsonOutputBean.getFormat().add(new jqxgridFormat("Total Value","total_value"));
	
	jsonOutputBean.getFormat().add(new jqxgridFormat("Total Value MRP","total_value_mrp"));
	jsonOutputBean.getFormat().add(new jqxgridFormat("Total value Discount","total_value_discount"));
	format= new jqxgridFormat("Last Modified Date","lastmodifieddate");
	jsonOutputBean.getFormat().add(format);
	jsonOutputBean.getFormat().add(new jqxgridFormat("Status Code","status_code"));
	
	System.out.print(new Gson().toJson(jsonOutputBean));
	out.print(new Gson().toJson(jsonOutputBean));
		
	}	

if(request.getParameter("submit")!=null){
	
      out.write("\n");
      out.write("\t\t\n");
      out.write("</div>\n");
      out.write("<div id=\"chekedOrderGrid\"></div>\n");
      out.write("\n");
      out.write("\n");
      out.write("<div id=\"popupContact\" style=\"max-height: 450px;width: 730px;overflow: auto; \" >\n");
      out.write("\t<a id=\"popupContactClose\"><!-- <input type=\"button\" onclick=\"Fun_Print();\" value=\"print\"> --><img src=\"images/Background/Button-Close-icon.png\"></a>\n");
      out.write("\t<div id =\"stack_info\">\n");
      out.write("\t</div>\t\n");
      out.write("</div>\n");
      out.write("<div id=\"backgroundPopup\" style=\"background-color: transparent;\"></div>\t\n");
      out.write("\n");
      out.write("<script type=\"text/javascript\">\n");
      out.write("$(document).ready(function(){\n");
      out.write("\n");
      out.write("$(document).keypress(function(e) {\n");
      out.write("\t\tif (e.keyCode == 27 && popupStatus == 1) {\n");
      out.write("\t\t\tdisablePopup();\n");
      out.write("\t\t}\n");
      out.write("\t});\n");
      out.write("\t\n");
      out.write("\tif('");
      out.print(request.getParameter("submit"));
      out.write("'!=null){\n");
      out.write("\t\n");
      out.write("\t$('#chekedOrder').css({'display':'none'});\n");
      out.write("\t$('#chekedOrderGrid').css({'display':'block'});\n");
      out.write("\n");
      out.write("\tvar gsonObject = jQuery.parseJSON($('#chekedOrder').html());\n");
      out.write("\tvar source =\n");
      out.write("            {\n");
      out.write("                localdata:  gsonObject.OutputData,\n");
      out.write("                datatype: \"array\"\n");
      out.write("                \n");
      out.write("            };\n");
      out.write("\t\t\n");
      out.write("\t\t\t$(\"#chekedOrderGrid\").jqxGrid(\n");
      out.write("            {\n");
      out.write("            \ttheme:'darkblue',\n");
      out.write("                height: 340,\n");
      out.write("                source: source,\n");
      out.write("                sortable: true,\n");
      out.write("                filterable: true,\n");
      out.write("                groupable: true,\n");
      out.write("                width:'100%',\n");
      out.write("                // pageable :true,\n");
      out.write("                //showaggregates: true,\n");
      out.write("                selectionmode: 'singlerow',\n");
      out.write("                columnsresize: true,\n");
      out.write("                columns: gsonObject.format\n");
      out.write("            });\n");
      out.write("            \n");
      out.write("             $(\"#chekedOrderGrid\").jqxGrid('clearselection');  \n");
      out.write("            $(\"#chekedOrderGrid\").unbind('cellselect');\n");
      out.write("\t\t\t$(\"#chekedOrderGrid\").unbind('rowselect');\n");
      out.write("\t     \t$(\"#chekedOrderGrid\").bind('rowselect', function (event) {\n");
      out.write("\t\t\tvar row = $(\"#chekedOrderGrid\").jqxGrid('getrowdata', event.args.rowindex);\n");
      out.write("\t\t\t\t\tpassVar(row.order_num);\n");
      out.write("\t\t\t\t   \n");
      out.write("\t\t\t}); \n");
      out.write("\t\t\t$(\"#chekedOrderGrid\").jqxGrid('clearselection');\n");
      out.write("\t\t\t\n");
      out.write("            \n");
      out.write("               $(\"#saveToExcel\").click(function () {\n");
      out.write("               \n");
      out.write("            \t$('#chekedOrderGrid').jqxGrid('showcolumn', 'order_num1');\n");
      out.write("            \t$('#chekedOrderGrid').jqxGrid('hidecolumn', 'order_num');\n");
      out.write("               \n");
      out.write("                $(\"#chekedOrderGrid\").jqxGrid('exportdata', 'xls', 'Delayed Details');   \n");
      out.write("                \n");
      out.write("                $('#chekedOrderGrid').jqxGrid('hidecolumn', 'order_num1');\n");
      out.write("            \t$('#chekedOrderGrid').jqxGrid('showcolumn', 'order_num');\n");
      out.write("            \t        \n");
      out.write("            });\t\n");
      out.write("    \n");
      out.write("\t\t}\n");
      out.write("\t\t\n");
      out.write("\t\t\n");
      out.write("\t\t\n");
      out.write("\t\t\n");
      out.write("});\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("var popupStatus = 0;\n");
      out.write("\n");
      out.write("function loadPopup() {\n");
      out.write("\tif (popupStatus == 0) {\n");
      out.write("\t\t$(\"#backgroundPopup\").css({\n");
      out.write("\t\t\t\"opacity\" : \"0.7\"\n");
      out.write("\t\t});\n");
      out.write("\t\t$(\"#backgroundPopup\").fadeIn(\"slow\");\n");
      out.write("\t\t$(\"#popupContact\").fadeIn(\"slow\");\n");
      out.write("\t\tpopupStatus = 1;\n");
      out.write("\t}\n");
      out.write("}\n");
      out.write("\n");
      out.write("function disablePopup() {\n");
      out.write("\tif (popupStatus == 1) {\n");
      out.write("\t\t$(\"#backgroundPopup\").fadeOut(\"slow\");\n");
      out.write("\t\t$(\"#popupContact\").fadeOut(\"slow\");\n");
      out.write("\t\tpopupStatus = 0;\n");
      out.write("\t}\n");
      out.write("}\n");
      out.write("\n");
      out.write("function centerPopup() {\n");
      out.write("\tvar windowWidth = document.documentElement.clientWidth;\n");
      out.write("\tvar windowHeight = document.documentElement.clientHeight;\n");
      out.write("\tvar popupHeight = $(\"#popupContact\").height();\n");
      out.write("\tvar popupWidth = $(\"#popupContact\").width();\n");
      out.write("\t$(\"#popupContact\").css({\n");
      out.write("\t\t\"position\" : \"absolute\",\n");
      out.write("\t\t\"top\" : windowHeight / 2 - popupHeight / 2,\n");
      out.write("\t\t\"left\" : windowWidth / 2 - popupWidth / 2\n");
      out.write("\t});\n");
      out.write("\t$(\"#backgroundPopup\").css({\n");
      out.write("\t\t\"height\" : windowHeight\n");
      out.write("\t});\n");
      out.write("\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("var newUrl =\"\";\n");
      out.write("function passVar(code){\n");
      out.write("\n");
      out.write("\t    newUrl=\"print_orderAjaxPopUp.jsp?backPage=RcustSalesForm.jsp&buttonFlag=Y&orderNo=\"+code;\n");
      out.write("\t   // alert(newUrl);\n");
      out.write("\t    $.ajax({\n");
      out.write("\t\t\turl:newUrl,\n");
      out.write("\t\t\ttype:'post',\n");
      out.write("\t\t\tdata:'',\n");
      out.write("\t\t\tdataType:'text',\n");
      out.write("\t\t\tsuccess:function(ajaxResonse)\n");
      out.write("\t\t\t{\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$('#stack_info').html(ajaxResonse);\t\n");
      out.write("\t\t\t\t//document.getElementById(\"stack_info\").innerHTML = \" \";\t\n");
      out.write("\t\t\t\tcenterPopup();\n");
      out.write("\t\t\t\tloadPopup();\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t}\n");
      out.write("\t\t\n");
      out.write("\t\t});\n");
      out.write(" \t    \n");
      out.write("\t}\n");
      out.write("\n");
      out.write("$(\"#popupContactClose\").click(function() {\n");
      out.write("\t\tdisablePopup();\n");
      out.write("\t});\n");
      out.write("\t$(\"#backgroundPopup\").click(function() {\n");
      out.write("\t\tdisablePopup();\n");
      out.write("\t});\n");
      out.write("\t\n");
      out.write("\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("\t");

}


      out.write('\n');
      out.write('\n');
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
