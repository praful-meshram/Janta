/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.42
 * Generated at: 2014-02-27 05:55:38 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.sql.*;
import javax.naming.*;
import javax.sql.*;
import java.text.*;
import java.io.*;

public final class DeliveredActionForm_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			"ErrorPage.jsp?page=DeliveredActionForm.jsp", true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "header.jsp", out, false);
      out.write('\n');
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<script src=\"js/lastOrderDetails.js\"></script>\n");
      out.write("\n");
      out.write(" \n");
      out.write("\t\n");
      out.write("\t");

	session.getAttribute("UserName").toString();
	System.out.println("session  : "+session +" \n user "+session.getAttribute("UserName").toString());
		
		
		
      out.write('\n');
      out.write('\n');
      out.write('\n');

	String code, desc, status_code_value = "DELIVERED", statusCode = "", actionValue = "";
	String[] actionValueArray = null;
	String custCode = "";
	String name = "";
	String phno = "";
	String area = "";
	String add1 = "";
	String add2 = "";
	String orderNo = "";
	orderNo = request.getParameter("orderNo");
	String orderDate = "";
	String status = "";
	String d_name = "";
	String d_code = "";
	String totalItems = "";
	float totalValue = 0.0f;
	float change = 0.0f;
	float paid_amt = 0.0f;
	float sum = totalValue + change;
	float balance = 0.0f;
	float advance = 0.0f;
	float discount = 0.0f;
	float other_charges = 0.0f;
	order.ManageOrder mo;
	mo = new order.ManageOrder("jdbc/js");
	mo.getOrderDetails(orderNo);
	while (mo.rs.next()) {
		custCode = mo.rs.getString("custcode");
		name = mo.rs.getString("custname");
		phno = mo.rs.getString("phone");
		area = mo.rs.getString("area");
		add1 = mo.rs.getString("add1");
		add2 = mo.rs.getString("add2");
		orderDate = mo.rs.getString("order_date");
		status = mo.rs.getString("status_code");
		d_name = mo.rs.getString("dstaff_name");
		d_code = mo.rs.getString("dstaff_code");
		totalItems = mo.rs.getString("total_items");
		totalValue = mo.rs.getFloat("total_value");
		change = mo.rs.getFloat("change_amt");
		balance = mo.rs.getFloat("balance_amt");
		advance = mo.rs.getFloat("advance_amt");
		discount = mo.rs.getFloat("discount_amt");
		paid_amt = mo.rs.getFloat("paid_amt");
		other_charges = mo.rs.getFloat("other_charges");
		sum = balance + change;
	}
	mo.closeAll();

      out.write("\n");
      out.write("<form name=\"myform\" method=\"post\" class=\"ddm1\">\n");
      out.write("\n");
      out.write("\t<table align=center>\n");
      out.write("\t\t<tr align=\"left\">\n");
      out.write("\t\t\t<td><b><font color=\"blue\" size=\"1.8\">Current Status :</font><b>\n");
      out.write("\t\t\t</td>\n");
      out.write("\t\t\t<td><b><label id='status'></label></label><b>\n");
      out.write("\t\t\t</td>\n");
      out.write("\t\t\t<td colspan=4></td>\n");
      out.write("\t\t\t<td><b><font color=\"blue\" size=\"1.8\">Next Action :</font>\n");
      out.write("\t\t\t</b>\n");
      out.write("\t\t\t</td>\n");
      out.write("\t\t\t<td><b><label id='action'></label><b>\n");
      out.write("\t\t\t</td>\n");
      out.write("\t\t</tr>\n");
      out.write("\t</table>\n");
      out.write("\n");
      out.write("\t<center>\n");
      out.write("\t\t<h5>\n");
      out.write("\t\t\t<b> Order Details</b>\n");
      out.write("\t\t</h5>\n");
      out.write("\t</center>\n");
      out.write("\n");
      out.write("\t<table aligh=left style=\"width:100%\">\n");
      out.write("\t\t<tr align=\"left\">\n");
      out.write("\t\t\t<td>\n");
      out.write("\t\t\t\t<table style=\"width:100%\">\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<td>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t<table id=\"1\" border=\"0\" align=\"left\" width=\"100%\">\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<th colspan=\"6\"><center>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<b>Customer Information</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</center></th>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Customer Code</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(custCode);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>&nbsp&nbsp&nbsp&nbsp</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Area</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(area);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Customer Name</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(name);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td></td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Address 1</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(add1);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Phone</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(phno);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td></td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Address 2</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(add2);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\t\t\t\t\t\t\t</table></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\n");
      out.write("\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t<td>\n");
      out.write("\t\t\t\t\t\t\t<table align=left width=100%>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<th colspan=\"6\"><center>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<b>Order Information</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</center></th>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Order Number</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(orderNo);
      out.write("</td>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Order Date</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(orderDate);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Total Items</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(totalItems);
      out.write("</td>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Total Value</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(totalValue);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Less Discount</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(discount);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Less Advance</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>:");
      out.print(advance);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Balance</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t");

										if (other_charges > 0) {
									
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<td width=\"50%\">: <font color=\"red\">");
      out.print(balance);
      out.write("</font><font\n");
      out.write("\t\t\t\t\t\t\t\t\t\tcolor=\"blue\">, Other Charges : ");
      out.print(other_charges);
      out.write("</font>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t");

										} else if (other_charges <= 0) {
									
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: <font color=\"red\">");
      out.print(balance);
      out.write("</font>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t");

										}
									
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Change</b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(change);
      out.write("</td>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Paid Amount </b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(paid_amt);
      out.write("</td>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t<tr></tr>\n");
      out.write("\t\t\t\t\t\t\t\t<TR></TR>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");

									Connection conn = null;
									Statement stmt = null, stat = null;
									ResultSet rs = null, rs1 = null;
									try {
										Context initContext = new InitialContext();
										Context envContext = (Context) initContext
												.lookup("java:/comp/env");
										DataSource ds = (DataSource) envContext.lookup("jdbc/js");
										conn = ds.getConnection();
										stmt = conn.createStatement();
										//stat = conn.createStatement();	
										System.out.println("SELECT status_code, allow_action FROM status where status_code='"
												+ status_code_value + "'");
										rs = stmt.executeQuery("SELECT status_code, allow_action FROM status where status_code='"
														+ status_code_value + "'");
								
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Delivery Person </b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: ");
      out.print(d_name);
      out.write("</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td><b>Allow Action </b>\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t<td>: <SELECT name=\"allow_action\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<OPTION VALUE=\"\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tSelect action\n");
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t");

												while (rs.next()) {
														statusCode = rs.getString(1);
														actionValue = rs.getString(2);
													}
													actionValueArray = actionValue.split(",");
													for (int index = 0; index < actionValueArray.length; index++) {
														
														System.out.println(" index "+index+"\n actionValueArray "+actionValueArray[index]);
											
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<OPTION VALUE=\"");
      out.print(index);
      out.write('"');
      out.write('>');
      out.print(actionValueArray[index]);
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t");

													}
														rs.close();
														stmt.close();
														conn.close();
													} catch (Exception e) {
														e.getMessage();
														e.printStackTrace();
													}
												
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t</table></td>\n");
      out.write("\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t</table></td>\n");
      out.write("\t\t\t<td align=left valign=top>\n");
      out.write("\t\t\t\t<div id=\"OrderHistory\" class=\"ddm1\"></div></td>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t</td>\n");
      out.write("\t\t</tr>\n");
      out.write("\t</table>\n");
      out.write("\t<center>\n");
      out.write("\t\t<input type=\"submit\" name=\"Submit\" disabled value=\"Save <Alt+ s>\"\n");
      out.write("\t\taccesskey=\"s\" onClick=\"checkField();return false;\"> <INPUT type=BUTTON\n");
      out.write("\t\t\tvalue=\"Cancel <Alt+ c>\" accesskey=\"c\" onClick=\"showMsg();\">\n");
      out.write("\t</center>\n");
      out.write("\n");
      out.write("\t<center>\n");
      out.write("\t\t<hr>\n");
      out.write("\t\t<br> <input type=\"hidden\" name=\"horderNo\" value=\"");
      out.print(orderNo);
      out.write("\">\n");
      out.write("\t\t<input type=\"hidden\" name=\"horderDate\" value=\"");
      out.print(orderDate);
      out.write("\">\n");
      out.write("\t\t<input type=\"hidden\" name=\"hstatus\" value=\"");
      out.print(status);
      out.write("\"> \n");
      out.write("\t\t<input type=\"hidden\" name=\"d_staff\" value=\"");
      out.print(d_code);
      out.write("\"> \n");
      out.write("\t\t<input type=\"hidden\" name=\"hpagename\" value=\"DeliveredActionForm\"> \n");
      out.write("\t\t<input type=\"hidden\" name=\"hallowaction\" value=\"\"> \n");
      out.write("\t\t<input type=\"hidden\" name=\"htotalValue\" value=\"");
      out.print(totalValue);
      out.write("\"> \n");
      out.write("\t\t<input type=\"hidden\" name=\"hpaidamt\" value=\"");
      out.print(paid_amt);
      out.write("\"> \n");
      out.write("\t\t<input type=\"hidden\" name=\"hchange\" value=\"");
      out.print(change);
      out.write("\"> \n");
      out.write("\t\t<input type=\"hidden\" name=\"hcomm\" value=\"0\">\n");
      out.write("\t\t<div id=\"txtHint\" class=\"ddm1\"></div>\n");
      out.write("\t\t<center>\n");
      out.write("\t\t\t<div id=\"waitMessage\" style=\"cursor: sw-resize\">\n");
      out.write("\t\t</center>\n");
      out.write("\t\t</div>\n");
      out.write("\n");
      out.write("\t\t<script type=\"text/javascript\">\t\n");
      out.write("\t\t\n");
      out.write("\t\tdocument.onkeydown = checkKey;\n");
      out.write("\t\tdocument.onclick = checkKey;\n");
      out.write("\t\tfunction checkKey() {\n");
      out.write("\t\t\tdocument.myform.Submit.disabled=false;\t\t\t\n");
      out.write("\t\t}\n");
      out.write("\n");
      out.write("\t\tfunction checkField(){\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\tvar allow_action = document.myform.allow_action.value;\t\n");
      out.write("\t\t\tvar allow_actionnm = document.myform.allow_action[document.myform.allow_action.selectedIndex].text;\t\t\t\t\n");
      out.write("\t\t\tdocument.myform.hallowaction.value=allow_actionnm;\t\n");
      out.write("\t\t\tvar totalVal=document.myform.htotalValue.value;\n");
      out.write("\t\t\tvar changeVal=document.myform.hchange.value;\n");
      out.write("\t\t\tvar paidAmt=parseInt(document.myform.hpaidamt.value);\n");
      out.write("\t\t\ttotalVal=parseInt(totalVal)+parseInt(changeVal);\n");
      out.write("\t\t\tdocument.myform.hcomm.value=document.getElementById(\"comm\").innerHTML;\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\tif(allow_action==\"\") {\n");
      out.write("\t\t\t\talert(\"Please Select Allow action\");\n");
      out.write("\t\t\t\tdocument.myform.allow_action.focus();\n");
      out.write("\t\t\t\treturn false;\n");
      out.write("\t\t\t}\t\n");
      out.write("\t\t\telse if(totalVal!=paidAmt && allow_actionnm==\"Close\")\n");
      out.write("\t\t\t\talert(\"Total value not equal to paid amount\");\n");
      out.write("\t\t\telse if(allow_actionnm==\"Close\"){ \n");
      out.write("\t\t\t\tvar ans=confirm(\"Do you want to change the status to Close? \");\n");
      out.write("\t\t\t\tif (ans==true){\n");
      out.write("\t\t\t\t\tdocument.myform.action=\"DeliveredAction.jsp\";\n");
      out.write("\t\t\t\t\tdocument.myform.submit();\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t\telse{\n");
      out.write("\t\t\t\t  \twindow.refresh; \n");
      out.write("\t\t\t\t}\t\t\t\t\n");
      out.write("\t\t\t}\t\n");
      out.write("\t\t\telse if(allow_actionnm==\"Hold\"){ \n");
      out.write("\t\t\t\tvar ans=confirm(\"Do you want to change the status to Hold? \");\n");
      out.write("\t\t\t\tif (ans==true){\n");
      out.write("\t\t\t\t\tdocument.myform.action=\"DeliveredAction.jsp\";\n");
      out.write("\t\t\t\t\tdocument.myform.submit();\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t\telse{\n");
      out.write("\t\t\t\t  \twindow.refresh; \n");
      out.write("\t\t\t\t}\t\t\t\t\n");
      out.write("\t\t\t}\t\t\t\t\t\n");
      out.write("\t\t\n");
      out.write("\t\t}// EOF Function\n");
      out.write("\t\t\t\n");
      out.write("\t\t\n");
      out.write("\t\t\n");
      out.write("\t\tfunction showMsg(){\t\t\t\n");
      out.write("\t\t\t document.myform.action=\"TrackingForm.jsp\";\t\t \n");
      out.write("\t\t   \t document.myform.submit();\n");
      out.write("\t\t}\n");
      out.write("\t\tfunction func(){\n");
      out.write("\t\t\tdocument.getElementById(\"status\").innerHTML=\"");
      out.print(status);
      out.write("\";\n");
      out.write("\t\t\tdocument.getElementById(\"action\").innerHTML=\"");
      out.print(actionValue);
      out.write("\";\n");
      out.write("\t\t\t\tshowHistory();\n");
      out.write("\t\t\t\t//showHint(document.myform.hpagename.value);\n");
      out.write("\t\t\t}\n");
      out.write("\t\t\twindow.onload = func;\n");
      out.write("\t\t</script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
